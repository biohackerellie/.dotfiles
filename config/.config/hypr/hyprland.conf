source = $HOME/.config/hypr/colors.conf
exec-once = wl-paste --type text --watch cliphist store    # Initialize clipboard manager (Stores only text data)
exec-once = wl-paste --type image --watch cliphist store   # Initialize clipboard manager
exec-once = uwsm app -- udiskie --smart-tray
exec-once = uwsm app -- nm-applet
exec-once = uwsm app -- /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = uwsm app -- gnome-keyring-daemon --start --components=secrets
exec-once = swww-daemon

monitor=DP-3,2560x1440@144.00Hz,2560x0,1
monitor=DP-4,2560x1440@164.83Hz,0x0,1

workspace=name:1,monitor:DP-4
# workspace=name:Game, persisten:false, monitor:DP-4, defaultName:Game, f[1], default:false, gapsin:0, gapsout:0, bordersize:0, border:false, shadow:false, rounding:false, decorate:false
source = ./monitors.conf
source = ./keybindings.conf # Keyboard shortcuts
source = ./hypridle.conf

[spotify]
extra_arguments = ["--enable-features=UseOzonePlatform", "--ozone-platform=wayland"]

#source = ./nvidia.conf
#exec-once = hyprctl dispatch workspace 1 
# // â–ˆâ€ƒâ–ˆâ–„â–‘â–ˆâ€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–‘â–ˆâ€ƒâ–€â–ˆâ–€
# // â–ˆâ€ƒâ–ˆâ–‘â–€â–ˆâ€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–„â–ˆâ€ƒâ–‘â–ˆâ–‘


#  Uncomment to enable // change to a preferred value
# ðŸ”— See https://wiki.hyprland.org/Configuring/Variables/#input
input {
    # kb_layout = us
    # follow_mouse = 1
    sensitivity = 3
    # force_no_accel = 0
    # accel_profile = flat 
    # numlock_by_default = true

    # ðŸ”— See https://wiki.hyprland.org/Configuring/Variables/#touchpad
    touchpad {
        natural_scroll = no
    }

}



# ðŸ”— See https://wiki .hyprland.org/Configuring/Variables/#gestures
gestures {
#     workspace_swipe = true
#     workspace_swipe_fingers = 3
}

# for window shallow similar to devour
misc {
    enable_swallow = false
    #swallow_regex = (foot|kitty|allacritty|Alacritty|ghostty|Ghostty|org.wezfurlong.wezterm)
    vrr = 2
    vfr = true
    disable_hyprland_logo = true
    disable_splash_rendering = true
    initial_workspace_tracking = 0
    disable_hyprland_qtutils_check = true
    animate_manual_resizes = true
    enable_anr_dialog = false
    animate_mouse_windowdragging = true
    allow_session_lock_restore = true
}

# Don't show update on first launch
ecosystem {
  # no_update_news = true
}
general {
    gaps_in = 4
    gaps_out = 8 #20
    # gaps_out = 1,7,7,7   # padding around top 1 and 7 for other sides

    border_size = 3

    # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors

    # Active Border Color
    # col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.active_border = $primary
    col.inactive_border = rgba(595959aa)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = true

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
    # Fix for blurry apps
    no_border_on_floating = false
}
dwindle {
  smart_resizing = true
  preserve_split = true
  force_split = 2
}
render {
  direct_scanout = 2
  new_render_scheduling = true
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 8
    rounding_power = 3

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0 #0.9
    inactive_opacity = 1.0 #0.9

    shadow {
        # enabled = true  (default)
        enabled = false
        range = 5
        render_power = 4
        color = rgba(1a1a1aee)
    }

    # https://wiki.hyprland.org/Configuring/Variables/#blur
    blur {
        # enabled = true  (default)
        enabled = true
        size = 5 #3
        passes = 1
	    new_optimizations = true
        size = 4
        vibrancy = 0.1696
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {

  enabled = true

  bezier = myBezier, 0.05, 0.9, 0.1, 1.05
  bezier = md3_decel, 0.05, 0.7, 0.1, 1

  animation = windows, 1, 5, myBezier, slide
  animation = windowsOut, 1, 7, myBezier, slide
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default
  animation = workspaces, 1, 5, md3_decel, slidefade 15%
}
# For scaling
xwayland {
    force_zero_scaling = true
    use_nearest_neighbor = false
}


cursor {
    default_monitor	= "DP-4"
    enable_hyprcursor = true
    #hide_on_key_press = true
}

# Environment Variables
env = XCURSOR_SIZE,24
env = GDK_SCALE,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = SDL_VIDEODRIVER,wayland
env = GDK_BACKEND,wayland,x11
env = CLUTTER_BACKEND,wayland
env = WLR_NO_HARDWARE_CURSORS,1

# Scaling environment variables
env = GDK_DPI_SCALE,1
env = QT_SCALE_FACTOR,1
env = XCURSOR_SIZE,20
env = XCURSOR_THEME,Bibata-Modern-Ice

env = LIBVA_DRIVER_NAME=nvidia
env = GBM_BACKEND=nvidia-drm
#env = __GLX_VENDOR_LIBRARY_NAME=nvidia
env = WLR_NO_HARDWARE_CURSORS=1


# // â–ˆâ–‘â–ˆâ–‘â–ˆâ€ƒâ–ˆâ€ƒâ–ˆâ–„â–‘â–ˆâ€ƒâ–ˆâ–€â–„â€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–‘â–ˆâ–‘â–ˆâ€ƒ â€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–‘â–ˆâ€ƒâ–ˆâ–‘â–‘â€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€
# // â–€â–„â–€â–„â–€â€ƒâ–ˆâ€ƒâ–ˆâ–‘â–€â–ˆâ€ƒâ–ˆâ–„â–€â€ƒâ–ˆâ–„â–ˆâ€ƒâ–€â–„â–€â–„â–€â€ƒ â€ƒâ–ˆâ–€â–„â€ƒâ–ˆâ–„â–ˆâ€ƒâ–ˆâ–„â–„â€ƒâ–ˆâ–ˆâ–„â€ƒâ–„â–ˆ


# Sizes for floating popups
windowrule = size <85% <95%,floating:1
windowrule = float,tag:common-popups
windowrule = size <60% <90%,tag:common-popups
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
windowrulev2 = suppressevent maximize, class:.*
windowrule = noblur, xwayland:1
windowrule = allowsinput, xwayland:1
 windowrulev2 = tile,initialTitle:^(Godot)$,initialClass:^(Godot)$

windowrulev2 = float,title:^((.*)(DEBUG)),initialClass:^(Godot)$,initialTitle:^(.*)(DEBUG)(.*)$,class:^(Godot)$ 
# Only add the Core applications here
windowrule = float,class:^(com.gabm.satty)$
windowrule = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog â€” Dolphin)$
windowrule = float,class:^(org.kde.dolphin)$,title:^(Copying â€” Dolphin)$
windowrule = float,title:^(About Mozilla Firefox)$
windowrule = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrule = float,class:^(firefox)$,title:^(Library)$
windowrule = float,class:^(.*)$,initialTitle:^(top)$
windowrule = float,class:^(.*)$,initialTitle:^(btop)$
windowrule = float,class:^(.*)$,initialTitle:^(htop)$
windowrule = float,class:^(vlc)$
windowrule = float,class:^(kvantummanager)$
windowrule = float,class:^(qt5ct)$
windowrule = float,class:^(qt6ct)$
windowrule = float,class:^(nwg-look)$
windowrule = float,class:^(nwg-displays)$
windowrule = float,class:^(org.kde.ark)$
windowrule = float, class: ^(.*)(pavucontrol)$
windowrule = animation popin 60%, class: ^(.*)(pavucontrol)$
windowrule = move 539 293, class: ^(.*)(pavucontrol)$
windowrule = size 1530 843, class: ^(.*)(pavucontrol)$
windowrule = float, class:^(nm-)(.*)$
windowrule = animation popin 60%, class: ^(nm-)(.*)$
windowrule = float,class:^(blueman-manager)$
windowrule = float,class:^(nm-applet)$
windowrule = float,class:^(nm-connection-editor)$
windowrule = float,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$

windowrule = float, center, title:^(blob:)(.*)$
windowrule = float, center, title:^(Open File)(.*)$
windowrule = float, center, title:^(Select a File)(.*)$
windowrule = float, center, title:^(Choose wallpaper)(.*)$
windowrule = float, center, title:^(Open Folder)(.*)$
windowrule = float, center, title:^(Save As)(.*)$
windowrule = float, center, title:^(Library)(.*)$
windowrule = float, center, title:^(Rename)(.*)$
windowrule = float, center, title:^(Confirm to replace files)(.*)$
windowrule = float, center, title:^(File Operation Progress)(.*)$
windowrule = float, center, class:(xdg-desktop-portal-gtk)
windowrule = float, center, class:^(gcr-prompter)$
windowrule = float, center, class:^(zenity)$
# common popups
windowrule =  tag +common-popups,initialTitle:^(Open File)$
windowrule =  tag +common-popups,title:^(Choose Files)$
windowrule =  tag +common-popups,title:^(Save As)$
windowrule =  tag +common-popups,title:^(Confirm to replace files)$
windowrule =  tag +common-popups,title:^(File Operation Progress)$
windowrule =  tag +common-popups,class:^(xdg-desktop-portal-gtk)$
windowrule =  tag +common-popups,title:^(Battle.net)$

#Opacity
windowrulev2 = opacity 0.90 0.90, class: ^(org.gnome.Nautilus)$
windowrulev2 = opacity 0.90 0.90, class: ^(Spotify)$
windowrulev2 = opacity 0.90 0.90, class: ^(vesktop)$


# // â–ˆâ–‘â–‘â€ƒâ–„â–€â–ˆâ€ƒâ–ˆâ–„â–ˆâ€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€â–ˆâ€ƒ â€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–‘â–ˆâ€ƒâ–ˆâ–‘â–‘â€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€
# // â–ˆâ–„â–„â€ƒâ–ˆâ–€â–ˆâ€ƒâ–‘â–ˆâ–‘â€ƒâ–ˆâ–ˆâ–„â€ƒâ–ˆâ–€â–„â€ƒ â€ƒâ–ˆâ–€â–„â€ƒâ–ˆâ–„â–ˆâ€ƒâ–ˆâ–„â–„â€ƒâ–ˆâ–ˆâ–„â€ƒâ–„â–ˆ

layerrule = blur,rofi
layerrule = ignorezero,rofi
layerrule = blur,notifications
layerrule = ignorezero,notifications
layerrule = blur,swaync-notification-window
layerrule = ignorezero,swaync-notification-window
layerrule = blur,swaync-control-center
layerrule = ignorezero,swaync-control-center
layerrule = blur,logout_dialog
layerrule = ignorezero,logout_dialog
layerrule = blur,waybar
layerrule = ignorezero,waybar


windowrule = immediate, class: .*\.exe
windowrule = immediate, content:game
windowrule = immediate, tag:games

# Games
# windowrule = content:game, class:^(steam_app)
# windowrule = noblur, content:game
# windowrule = fullscreen, content:game

windowrule = tag +games, class:^(gamescope)$
windowrule = tag +games, class:^(steam_proton)$
windowrule = tag +games, title:^(World of Warcraft)$
windowrule = tag +games, title:^(World of Warcraft*)$
windowrule = tag +games, class:^(steam_app_\d+)$
# exclude battle.net
windowrule = tag -games, title:^(Battle.net)$
windowrule = workspace name:1, tag:games*
windowrule = noblur, tag:games*
windowrule = fullscreen, tag:games*
